# Решение тестового задания для сегментирования мебели
### Описание решения: 
В данном решении были применены такие технологии как: YOLOv8 для детектирования мебели OpenCV для создания маски путем замены белых пикселей заднего фона на черные
### Доработки для улучшения точности ML модели:
Во время создания решения рассматривался и тестировался вариант с использованием SAM (Segment Anything Model) для сегментации изображения, однако данная модель тяжеловесная и требует значительного ресурсов, поэтому выюор пал на более легкую и быструю YOLOv8.
### Доработки для улучшения архитектуры сервиса и повышения отказоустойчивости:
Для улучшения сервиса можно docker образ перенести в k8s (kubernetes), для повышения отказоустойчивости. Так же необходимо озменть контракты взаимодействия(подавать не путь до папок, а сами изображения в формате b64) 
### Результаты: 
В итоге решения тестового задания была подобрана и протестирована CV модель YOLOv8 и обернута в микросервис для дальнейшего использования в режиме inference.
IoU score на тестовой выборке составляет 0,62
## Инструкция для установки
### 1) Склонить репозиторий
```bash
git clone https://github.com/WertoLab/furniture_segmentation.git
```

### 2) Войти в директорию
```bash
cd furniture_segmentation
```

### 3) Установить все зависимости
```bash
pip3 install poetry
poetry shell
poetry install
```

### 4) Запустить сервис
```
poetry run uvicorn app.main:app
```

```bash
Зайти в swagger по ссылке http://127.0.0.1:8000/docs 
```

### Пример запроса
Примечание: в запросе необходимо указывать полные пути до папок с изображениями
```json
{
  "input_images_folder_path": "/Users/andrey/Desktop/test_images",
  "input_masks_folder_path": "/Users/andrey/Desktop/test_masks"
}
```